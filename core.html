

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Documentation Core &mdash; Motey 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Motey 0.0.1 documentation" href="index.html"/>
        <link rel="next" title="Documentation cli" href="cli.html"/>
        <link rel="prev" title="Welcome to Motey’s documentation!" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Motey
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documentation Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Documentation cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication.html">Documentation Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication_api_routes.html">Documentation Communication - API Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="labelingengine.html">Documentation Labeling Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Documentation Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="orchestrator.html">Documentation Orchestrator</a></li>
<li class="toctree-l1"><a class="reference internal" href="repositories.html">Documentation Repositories</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Documentation Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="val.html">Documentation Virtualization Abstraction Layer (VAL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="val_plugins.html">Documentation Virtualization Abstraction Layer (VAL) Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">Documentation Validation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Motey</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Documentation Core</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/core.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-motey.cli">
<span id="documentation-core"></span><h1>Documentation Core<a class="headerlink" href="#module-motey.cli" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-motey.communication"></span><span class="target" id="module-motey.core"></span><dl class="class">
<dt id="motey.core.Core">
<em class="property">class </em><code class="descclassname">motey.core.</code><code class="descname">Core</code><span class="sig-paren">(</span><em>logger</em>, <em>labeling_repository</em>, <em>valmanager</em>, <em>nodes_repository</em>, <em>inter_node_orchestrator</em>, <em>hardware_event_engine</em>, <em>as_daemon=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/motey/core.html#Core"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#motey.core.Core" title="Permalink to this definition">¶</a></dt>
<dd><p>This module provides the core functionality of Motey.
It can be executed as a daemon service or can be executed in foreground.
It will start an API webserver and a MQTTServer which can be configured via the config.ini file.
The core will also start all the necessary components like the LabelingDatabase, the VALManager,
the InterNodeOrchestrator and the HardwareEventEngine.
After it is started via self.start() it will be executed until self.stop() is executed.</p>
<dl class="method">
<dt id="motey.core.Core.after_connect_callback">
<code class="descname">after_connect_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/motey/core.html#Core.after_connect_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#motey.core.Core.after_connect_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Will be called after the MQTTServer has established a connection to the broker.
Send out a request to fetch the ip from all existing nodes.</p>
</dd></dl>

<dl class="method">
<dt id="motey.core.Core.restart">
<code class="descname">restart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/motey/core.html#Core.restart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#motey.core.Core.restart" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart the core.</p>
</dd></dl>

<dl class="method">
<dt id="motey.core.Core.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/motey/core.html#Core.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#motey.core.Core.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The method is the main app loop.
It starts the API server as well as the MQTT server and will be executed until self.stop() is executed.</p>
</dd></dl>

<dl class="method">
<dt id="motey.core.Core.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/motey/core.html#Core.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#motey.core.Core.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the core component. If self.as_daemon is set to True, the component will be started as a daemon services.
It will use the path to the pid which is configured in the config.ini.
If self.as_daemon is set to False, the component will be executed in foreground.</p>
</dd></dl>

<dl class="method">
<dt id="motey.core.Core.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/motey/core.html#Core.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#motey.core.Core.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up the started services.
At first it sends a MQTTServer.remove_node() command.
Afterwards it will stop the MQTTServer instance as well as the VALManager.
Finally it stops the daemon if self.as_daemon is set to True.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cli.html" class="btn btn-neutral float-right" title="Documentation cli" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to Motey’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Markus Paeschke.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>